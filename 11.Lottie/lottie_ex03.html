<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-interactivity@latest/dist/lottie-interactivity.min.js"></script>
    <title>Document</title>
</head>
<body>
    <h1>Chaining - Click</h1>
    <div class="second-section">
        <lottie-player id="clickInteraction" src="https://assets7.lottiefiles.com/packages/lf20_ioxyd2gs.json" >
        </lottie-player>
    </div>
   
    <script>
        window.addEventListener('DOMContentLoaded',()=>{
            let animation = document.getElementById("clickInteraction");
            var lottieAnim = LottieInteractivity.create({
            player: "#clickInteraction",
            mode: "chain",
            actions: [
                    {
                        state: "click",
                        forceFlag: true,
                        frames: "star",
                        transition: "click",
                        count: 2
                    },
                    {
                        path: "https://assets1.lottiefiles.com/packages/lf20_ISbOsd.json",
                        frames: "confetti",
                        state: "autoplay",
                        reset: true,
                        transition: "onComplete"
                    }
                ]
            });

            animation.addEventListener("complete", () => {
             alert("애니메이션 끝");
            });

        })
    </script>
    <div>
        <lottie-player id="explodingBird" src="bird.json">
        </lottie-player>
    </div>
    <script>
        window.addEventListener('DOMContentLoaded',()=>{
            LottieInteractivity.create({
            player: "#explodingBird",
            mode: "chain",
            actions: [
                {
                    state: "loop",
                    transition: "click",
                    //frames: "bird"
                    frames: [0, 23]
                },
                {
                    state: "autoplay",
                    transition: "onComplete",
                    //frames: "explosion"
                    frames: [23, 34]
                },
                {
                    state: "autoplay",
                    transition: "onComplete",
                    //frames: "feathers",
                    frames: [34, 96],
                    reset: true
                }
            ]
            });
        })
    </script>
    <div>
        <lottie-player id="chainPoint" src="point100.json"></lottie-player>
    </div>
    <script>
        window.addEventListener('DOMContentLoaded',()=>{
            LottieInteractivity.create({
            player: "#chainPoint",
            mode: "chain",
            actions: [
                {
                    state: "loop",
                    transition: "click",
                    //frames: "bird"
                    frames: [0, 13]
                },
                {
                    state: "autoplay",
                    transition: "onComplete",
                    //frames: "explosion"
                    frames: [13, 99],
                },
                {
                    state: "loop",
                    transition: "onComplete",
                    //frames: "explosion"
                    frames: [65,99]
                    
                }
            ]
            });
        })
    </script>
</body>
</html>

<!--

    https://docs.lottiefiles.com/lottie-player/components/lottie-player/events
-->